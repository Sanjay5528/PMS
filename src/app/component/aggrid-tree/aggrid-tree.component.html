
<!-- <ng-template #editViewPopup>
  <mat-card>
    <mat-card-header style="flex: 1 1 auto;">
      <div style="width: 100%">
        <h2 style="text-align: center;" class="page-title">{{ pageHeading }}</h2>
      </div>
      <div style="text-align-last: end" >
        <mat-icon mat-dialog-close>close</mat-icon>
      </div>
    </mat-card-header>
    <mat-card-content style="padding-top: 10px">
      <form [formGroup]="form">
        <formly-form [model]="selectedModel" [fields]="fields" [form]="form"></formly-form>
      
      </form>
    </mat-card-content>
    <mat-card-actions>
      <div style="text-align-last: end; width: 100%">
        <button style="margin: 5px" mat-button mat-dialog-close>
          Cancel
        </button>
        <button style="margin: 5px" mat-button (click)="resetBtn('reset')" *ngIf="this.id" >
          Reset
        </button>
        <button
        style="margin: 5px; background: rgb(59, 146, 155)"
        (click)="saveForm(config,$event)"
        mat-raised-button
        color="warn"
       
      >
        save
      </button>
      

      </div>
    </mat-card-actions>
  </mat-card>
</ng-template> -->

<!-- !an do requriement here 1st task -->

<div fxLayout="column"  style="width:100%">
  
  <div fxLayout="row" fxLayoutAlign="center center" fxFlex="100%" style="width:100%;">
    <div fxLayout="column" fxFlex="5%" class="back">
      <mat-icon style="font-size:35px;margin-top: 30px;" (click)="goBack()">keyboard_backspace</mat-icon>
    </div>
    <div fxLayout="column" fxFlex="95%" fxLayoutAlign="center center" style="margin-top: 10px;">
      <h2 class="page-title">{{formName=="module"?"Module":formName}}</h2>
      
    </div>
  </div>
  <!-- margin-left: 26px;
    width: 20%;
    flex-direction: column;
    box-sizing: border-box;
    display: flex;
    margin-top: 24px; -->
   
  <div fxLayout="row" class="form-container">
      <!-- <div [ngStyle]="{'width': '20%' }"  fxLayout="column">
        <div  style="margin-top: 10px;margin-left: 20px;">
          
           <div style="display: flex; margin-right: 30px;margin-bottom: 20px;">
      <span>Client Name : <span style="font-weight: bold;margin-left: 10px;">{{response?.client_name}}</span></span>
    </div>
        <div style="display: flex; margin-right: 30px;margin-bottom: 20px;">
          <span>Project Id : <span style="font-weight: bold;margin-left: 10px;">{{response?.project_id}}</span></span>
        </div>
        <div style="display: flex; margin-right: 30px;margin-bottom: 20px;">
          <span>Project Name : <span
            style="font-weight: bold;margin-left: 10px;">{{response?.project_name}}</span></span>
        </div>
       
        <div style="display: flex; margin-right: 30px;margin-bottom: 20px;">
          <span>Project Status : <span style="font-weight: bold;margin-left: 10px;">{{response?.status}}</span></span>
        </div>
        </div>
      </div> -->
      <div class="table-container" style="width:99%">
        <div fxLayout="column">
          <div fxFlex="auto">
            <div fxLayout="row">
              <div [ngStyle]="{'width': '48%' }" fxLayout="column">
                <div style="margin-top: 10px; margin-left: 20px;">
                  <div style="display: flex; margin-bottom: 2px; font-size: larger; color: black;">
                    <span>
                       <b>Project</b> <span style="font-size: large;color: black;"> > ></span> <span style="font-weight: bold; margin-left: 10px;">{{response?.project_name}}</span>         
                      <span style="margin-left: 10px;">({{response?.project_id}})</span>
                    </span>
                  </div>
                  <div style="display: flex; font-size:medium; color: grey;align-items: baseline;">
                    <span style=" margin-bottom:  -7px;">From {{response?.client_name}}</span>
                    <!-- <span style="margin-left: 10px;">({{response?.status}})</span> -->
                    <span [ngStyle]="{'background-color': response?.status === 'A' ? 'green' : 'red', 'width': '10px', 'height': '10px', 'border-radius': '50%', 'display': 'inline-block', 'margin-right': '5px','margin-left':'5px'}"></span>

                  </div>
                  <div style="display: flex; font-size: small; color: grey;">
                    <span>{{response?.startdate}} to {{response?.enddate}}</span>
                  </div>
                </div>
              </div>
              
              
              <div fxFlex="1 0 auto">
                <!-- <app-dynamic-filter  [showdefaultFilter]="showdefaultFilter" (filterValue)=" ' ' "></app-dynamic-filter> -->
              </div>
              <!-- <div style="float:right;" fxLayout="column" fxFlex="10%">
                {{this.listData.length}} Record(s) found
              </div> -->
              <div>
                
              <div class="add-container">
                <button mat-raised-button color="primary"
                  (click)="onAddButonClick($event)">
                  <mat-icon>add</mat-icon>
                  Add</button>
                  <!-- <button class="icon" matTooltip="Add" mat-mini-fab (click)="onAddButonClick($event)"
        style="margin-right: 20px; background: #90c0e5;   color: #080201;">
        <mat-icon>add</mat-icon>
      </button> -->
                </div>
            </div>
          </div>
          
    <!-- [gridOptions]='gridOptions'    [treeData]="true"   [getDataPath]="getTreePath"
     [pagination]="true"  [autoGroupColumnDef]="autoGroupColumnDef"
     [animateRows]="true" [paginationPageSize]="10"
     [groupDefaultExpanded]="groupDefaultExpanded" 
  
  -->
  <ag-grid-angular 
    style="width: 100%; height: calc(100vh - 250px); flex: 1 1 auto"
    class="ag-theme-alpine"
    [defaultColDef]="defaultColDef"
    [columnDefs]="columnDefs" 
    [rowData]="listData"
    [getDataPath]="getTreePath"
    [autoGroupColumnDef]="autoGroupColumnDef"
    [groupDefaultExpanded]="groupDefaultExpanded" 
    [gridOptions]='gridOptions' 
    [context]="context"
    [rowSelection]="'single'"
    [components]="components" 
    [paginationPageSize]="10"
    [treeData]="true"
    [pagination]="true"
    [animateRows]="true"
    (selectionChanged)="onSelectionChanged($event)"
    (cellValueChanged)="onCellValueChanged($event)"
    (gridReady)="onGridReady($event)" 
    ></ag-grid-angular>

        </div>
      </div>
      </div>
      
      <!-- <div *ngIf="isDataError">
        <mat-icon color="warn" aria-label="Given ID is not valid">error</mat-icon>
        <span>Given ID is not valid</span>
      </div> -->
    </div>
  
</div>







<ng-template #editViewPopup class="example-sidenav" mode="over" style="height: auto" let-data >
  <!-- <div style="text-align-last: end">
    <mat-icon (click)='this.dialogService.closeModal()'>close</mat-icon>
  </div> -->
  <div class="page">
    <mat-card style="width: 98%; margin: auto">
      <div style="text-align-last: end" >
        <mat-icon (click)='this.dialogService.closeModal();this.form.reset()'>close</mat-icon>
      </div>
      <mat-card-header style="flex: 1 1 auto;">
        <div  style="width: 100%">
          <h2 style="text-align: center;" class="page-title">{{ pageHeading }} - {{ formAction }}</h2>
        </div>
      </mat-card-header>
    
      <mat-card-content style="padding-top: 10px">
        <div>
          <form [formGroup]="form">
            <formly-form [model]="model" [fields]="fields" [form]="form"></formly-form>
          </form>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <div style="text-align-last: end; width: 100%">
          <button style="margin: 5px" mat-button (click)='this.dialogService.closeModal();this.form.reset()' >Cancel</button>
          <button style="margin: 5px" mat-button (click)="this.form.reset()" >Reset</button>
          <button style="margin: 5px;  background:rgb(59,146,155)" mat-raised-button color="warn" (click)="saveChild()">
            {{ butText }}
          </button>
        </div>
      </mat-card-actions>
    </mat-card>
    <div >
      <!-- <mat-icon color="warn">error</mat-icon>
      <span>Given ID is not valid</span> -->
    </div>
    
  </div>
</ng-template>
